{"filter":false,"title":"main.js","tooltip":"/node/sens2/routes/main.js","undoManager":{"mark":22,"position":22,"stack":[[{"start":{"row":8,"column":0},"end":{"row":9,"column":45},"action":"remove","lines":["var SHA256 = require('crypto-js/sha256');","var Base64 = require('crypto-js/enc-base64');"],"id":2}],[{"start":{"row":8,"column":0},"end":{"row":9,"column":0},"action":"remove","lines":["",""],"id":3}],[{"start":{"row":7,"column":4},"end":{"row":7,"column":12},"action":"remove","lines":["CryptoJS"],"id":4},{"start":{"row":7,"column":4},"end":{"row":7,"column":5},"action":"insert","lines":["c"]}],[{"start":{"row":7,"column":5},"end":{"row":7,"column":6},"action":"insert","lines":["r"],"id":5},{"start":{"row":7,"column":6},"end":{"row":7,"column":7},"action":"insert","lines":["y"]},{"start":{"row":7,"column":7},"end":{"row":7,"column":8},"action":"insert","lines":["p"]},{"start":{"row":7,"column":8},"end":{"row":7,"column":9},"action":"insert","lines":["t"]},{"start":{"row":7,"column":9},"end":{"row":7,"column":10},"action":"insert","lines":["o"]}],[{"start":{"row":7,"column":22},"end":{"row":7,"column":31},"action":"remove","lines":["crypto-js"],"id":6},{"start":{"row":7,"column":22},"end":{"row":7,"column":28},"action":"insert","lines":["crypto"]}],[{"start":{"row":39,"column":0},"end":{"row":50,"column":27},"action":"remove","lines":["    // 중요한 key들을 한번 더 crypto-js 모듈을 이용하여 암호화 하는 과정.","    const hmac = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, secretKey);","    hmac.update(method);","    hmac.update(space);","    hmac.update(url2);","    hmac.update(newLine);","    hmac.update(date);","    hmac.update(newLine);","    hmac.update(accessKey);","    const hash = hmac.finalize();","    const signature = hash.toString(CryptoJS.enc.Base64);","    console.log(signature);"],"id":7},{"start":{"row":39,"column":0},"end":{"row":51,"column":1},"action":"insert","lines":["const makeSignature = (method, url, timestamp, accessKey, secretKey) => {","    var space = \" \";","    var newLine = \"\\n\";","    const hmac = crypto.createHmac('SHA256', secretKey);","    hmac.update(method);","    hmac.update(space);","    hmac.update(url);","    hmac.update(newLine);","    hmac.update(timestamp);","    hmac.update(newLine);","    hmac.update(accessKey);","    return hmac.digest('base64');","}"]}],[{"start":{"row":39,"column":0},"end":{"row":39,"column":2},"action":"insert","lines":["  "],"id":8}],[{"start":{"row":39,"column":2},"end":{"row":39,"column":4},"action":"insert","lines":["  "],"id":9}],[{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"insert","lines":["  "],"id":10}],[{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"insert","lines":["  "],"id":11}],[{"start":{"row":40,"column":0},"end":{"row":40,"column":2},"action":"insert","lines":["  "],"id":12},{"start":{"row":41,"column":0},"end":{"row":41,"column":2},"action":"insert","lines":["  "]},{"start":{"row":42,"column":0},"end":{"row":42,"column":2},"action":"insert","lines":["  "]},{"start":{"row":43,"column":0},"end":{"row":43,"column":2},"action":"insert","lines":["  "]},{"start":{"row":44,"column":0},"end":{"row":44,"column":2},"action":"insert","lines":["  "]},{"start":{"row":45,"column":0},"end":{"row":45,"column":2},"action":"insert","lines":["  "]},{"start":{"row":46,"column":0},"end":{"row":46,"column":2},"action":"insert","lines":["  "]},{"start":{"row":47,"column":0},"end":{"row":47,"column":2},"action":"insert","lines":["  "]},{"start":{"row":48,"column":0},"end":{"row":48,"column":2},"action":"insert","lines":["  "]},{"start":{"row":49,"column":0},"end":{"row":49,"column":2},"action":"insert","lines":["  "]},{"start":{"row":50,"column":0},"end":{"row":50,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":61,"column":35},"end":{"row":61,"column":44},"action":"remove","lines":["signature"],"id":13},{"start":{"row":61,"column":35},"end":{"row":61,"column":36},"action":"insert","lines":["m"]},{"start":{"row":61,"column":36},"end":{"row":61,"column":37},"action":"insert","lines":["a"]},{"start":{"row":61,"column":37},"end":{"row":61,"column":38},"action":"insert","lines":["k"]}],[{"start":{"row":61,"column":35},"end":{"row":61,"column":38},"action":"remove","lines":["mak"],"id":14},{"start":{"row":61,"column":35},"end":{"row":61,"column":50},"action":"insert","lines":["makeSignature()"]}],[{"start":{"row":61,"column":49},"end":{"row":61,"column":50},"action":"remove","lines":[")"],"id":15},{"start":{"row":61,"column":48},"end":{"row":61,"column":49},"action":"remove","lines":["("]}],[{"start":{"row":82,"column":0},"end":{"row":84,"column":8},"action":"remove","lines":["    \tres.json({","    \t\t'Code' : resultCode, 'Name' : user_name, 'Phone_Number' : user_phone_number, 'Message' : user_msg","    \t});"],"id":16}],[{"start":{"row":81,"column":0},"end":{"row":82,"column":0},"action":"remove","lines":["",""],"id":17},{"start":{"row":80,"column":8},"end":{"row":81,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":78,"column":25},"end":{"row":79,"column":0},"action":"insert","lines":["",""],"id":18},{"start":{"row":79,"column":0},"end":{"row":79,"column":7},"action":"insert","lines":["    \t\t\t"]}],[{"start":{"row":79,"column":7},"end":{"row":81,"column":8},"action":"insert","lines":["    \tres.json({","    \t\t'Code' : resultCode, 'Name' : user_name, 'Phone_Number' : user_phone_number, 'Message' : user_msg","    \t});"],"id":19}],[{"start":{"row":79,"column":11},"end":{"row":79,"column":12},"action":"remove","lines":["\t"],"id":20},{"start":{"row":79,"column":10},"end":{"row":79,"column":11},"action":"remove","lines":[" "]},{"start":{"row":79,"column":8},"end":{"row":79,"column":10},"action":"remove","lines":["  "]},{"start":{"row":79,"column":7},"end":{"row":79,"column":8},"action":"remove","lines":[" "]}],[{"start":{"row":80,"column":6},"end":{"row":80,"column":8},"action":"insert","lines":["  "],"id":21}],[{"start":{"row":80,"column":8},"end":{"row":80,"column":10},"action":"insert","lines":["  "],"id":22}],[{"start":{"row":81,"column":5},"end":{"row":81,"column":7},"action":"insert","lines":["  "],"id":23}],[{"start":{"row":81,"column":7},"end":{"row":81,"column":9},"action":"insert","lines":["  "],"id":24}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":15,"column":29},"end":{"row":15,"column":35},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1670489454811,"hash":"a54d186028fc3d8f18a83438ba0f37e182917c1a"}